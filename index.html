<!DOCTYPE html>
<html>

<head>
    <title></title>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>

<body>
    <script type="text/javascript" src="matrix.js"></script>
    <script type="text/javascript" src="grid.js"></script>
    <script type="text/javascript">

    var canvas = document.createElement("canvas");
    canvas.width = 1000;
    canvas.height = 600;

    var grid = new Grid(canvas);

    function getFunction(n) {
        return function(t) {
            var r1 = Math.cos(n);
            var r2 = Math.sin(n);
            return [r1 + r1*Math.cos(t), r2 + r2*Math.sin(t)];
        };
    }

    var domain = [-10, 10];

    var f_id = null;
    grid.runAnimation(function(n) {
        if (f_id === null) {
            f_id = grid.addParametricFunction(getFunction(n), domain, "red");
            console.log("here", f_id);
        }
        else {
            var func = grid.getObject(f_id).data;
            func.function = getFunction(n);
            console.log("there", f_id);
        }
    }, 1, 100, 2)

    document.body.appendChild(canvas);

    </script>
</body>

</html>
